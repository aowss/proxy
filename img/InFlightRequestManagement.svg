<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="583px" preserveAspectRatio="none" style="width:669px;height:583px;" version="1.1" viewBox="0 0 669 583" width="669px" zoomAndPan="magnify"><defs><filter height="300%" id="f191a4yduzumgp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f191a4yduzumgp)" height="309.1055" style="stroke: #000000; stroke-width: 2.0;" width="644" x="13" y="183.4199"/><rect fill="#FFFFFF" height="233.1738" style="stroke: none; stroke-width: 1.0;" width="644" x="13" y="259.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="52" x2="52" y1="65.4883" y2="509.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="185.5" x2="185.5" y1="65.4883" y2="509.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="400" x2="400" y1="65.4883" y2="509.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="498" x2="498" y1="65.4883" y2="509.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="609" x2="609" y1="65.4883" y2="509.5254"/><rect fill="#FEFECE" filter="url(#f191a4yduzumgp)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="23" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="30" y="50.5352">Client</text><rect fill="#FEFECE" filter="url(#f191a4yduzumgp)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="23" y="508.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="30" y="529.0605">Client</text><rect fill="#FEFECE" filter="url(#f191a4yduzumgp)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="157.5" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="164.5" y="50.5352">Proxy</text><rect fill="#FEFECE" filter="url(#f191a4yduzumgp)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="157.5" y="508.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="164.5" y="529.0605">Proxy</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="376" y="62.5352">Cache</text><path d="M382,13 C382,3 400,3 400,3 C400,3 418,3 418,13 L418,39 C418,49 400,49 400,49 C400,49 382,49 382,39 L382,13 " fill="#FEFECE" filter="url(#f191a4yduzumgp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M382,13 C382,23 400,23 400,23 C400,23 418,23 418,13 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="376" y="522.0605">Cache</text><path d="M382,535.0137 C382,525.0137 400,525.0137 400,525.0137 C400,525.0137 418,525.0137 418,535.0137 L418,561.0137 C418,571.0137 400,571.0137 400,571.0137 C400,571.0137 382,571.0137 382,561.0137 L382,535.0137 " fill="#FEFECE" filter="url(#f191a4yduzumgp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M382,535.0137 C382,545.0137 400,545.0137 400,545.0137 C400,545.0137 418,545.0137 418,535.0137 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="434" y="62.5352">Pending Requests</text><path d="M480,13 C480,3 498,3 498,3 C498,3 516,3 516,13 L516,39 C516,49 498,49 498,49 C498,49 480,49 480,39 L480,13 " fill="#FEFECE" filter="url(#f191a4yduzumgp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M480,13 C480,23 498,23 498,23 C498,23 516,23 516,13 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="434" y="522.0605">Pending Requests</text><path d="M480,535.0137 C480,525.0137 498,525.0137 498,525.0137 C498,525.0137 516,525.0137 516,535.0137 L516,561.0137 C516,571.0137 498,571.0137 498,571.0137 C498,571.0137 480,571.0137 480,561.0137 L480,535.0137 " fill="#FEFECE" filter="url(#f191a4yduzumgp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M480,535.0137 C480,545.0137 498,545.0137 498,545.0137 C498,545.0137 516,545.0137 516,535.0137 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f191a4yduzumgp)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="572" y="30"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="579" y="50.5352">Backend</text><rect fill="#FEFECE" filter="url(#f191a4yduzumgp)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="572" y="508.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="57" x="579" y="529.0605">Backend</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="184" x2="174" y1="96.4883" y2="92.4883"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="184" x2="174" y1="96.4883" y2="100.4883"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52" x2="185" y1="96.4883" y2="96.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="59" y="92.0566">Request</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="186" x2="228" y1="126.1094" y2="126.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228" x2="228" y1="126.1094" y2="139.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="228" y1="139.1094" y2="139.1094"/><polygon fill="#A80036" points="197,135.1094,187,139.1094,197,143.1094,193,139.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="193" y="121.3672">Extract Request Key</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="398" x2="388" y1="168.1094" y2="164.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="398" x2="388" y1="168.1094" y2="172.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="186" x2="399" y1="168.1094" y2="168.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="193" y="163.6777">Retrieve Response from Cache</text><path d="M13,183.4199 L75,183.4199 L75,190.4199 L65,200.4199 L13,200.4199 L13,183.4199 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="309.1055" style="stroke: #000000; stroke-width: 2.0;" width="644" x="13" y="183.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="196.9883">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="90" y="196.0547">[Response in Cache]</text><polygon fill="#A80036" points="197,217.7305,187,221.7305,197,225.7305,193,221.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="191" x2="399" y1="221.7305" y2="221.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="203" y="217.2988">Cached Response</text><polygon fill="#A80036" points="63,247.041,53,251.041,63,255.041,59,251.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57" x2="185" y1="251.041" y2="251.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="69" y="246.6094">Cached Response</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="657" y1="260.3516" y2="260.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496" x2="486" y1="282.3516" y2="278.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496" x2="486" y1="282.3516" y2="286.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="186" x2="497" y1="282.3516" y2="282.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="193" y="277.9199">Queue Request</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="186" x2="228" y1="311.9727" y2="311.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228" x2="228" y1="311.9727" y2="324.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="228" y1="324.9727" y2="324.9727"/><polygon fill="#A80036" points="197,320.9727,187,324.9727,197,328.9727,193,324.9727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="193" y="307.2305">Build</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="228" y="307.2305">Backend</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="289" y="307.2305">Request</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="607.5" x2="597.5" y1="353.9727" y2="349.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="607.5" x2="597.5" y1="353.9727" y2="357.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="186" x2="608.5" y1="353.9727" y2="353.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="193" y="349.541">Backend</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="254" y="349.541">Request</text><polygon fill="#A80036" points="197,379.2832,187,383.2832,197,387.2832,193,383.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="191" x2="608.5" y1="383.2832" y2="383.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="203" y="378.8516">Backend</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="264" y="378.8516">Response</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="186" x2="228" y1="412.9043" y2="412.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228" x2="228" y1="412.9043" y2="425.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="228" y1="425.9043" y2="425.9043"/><polygon fill="#A80036" points="197,421.9043,187,425.9043,197,429.9043,193,425.9043" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="193" y="408.1621">Process</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="245" y="408.1621">Backend</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="306" y="408.1621">Response</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="398" x2="388" y1="454.9043" y2="450.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="398" x2="388" y1="454.9043" y2="458.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="186" x2="399" y1="454.9043" y2="454.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="193" y="450.4727">Store Response in Cache</text><polygon fill="#A80036" points="63,480.2148,53,484.2148,63,488.2148,59,484.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57" x2="185" y1="484.2148" y2="484.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="69" y="479.7832">Response</text><!--
@startuml

Client ->> Proxy : Request
Proxy -> Proxy : Extract Request Key
database Cache
database "Pending Requests" as PR
Proxy ->> Cache : Retrieve Response from Cache

alt Response in Cache

    Proxy <- - Cache : Cached Response
    Client <- - Proxy : Cached Response

else

    Proxy ->> PR: Queue Request
    Proxy -> Proxy: Build **Backend** Request
    Proxy ->> Backend : **Backend** Request
    Proxy <- - Backend : **Backend** Response
    Proxy -> Proxy: Process **Backend** Response
    Proxy ->> Cache : Store Response in Cache
    Client <- - Proxy : Response

end

@enduml

PlantUML version 1.2018.01(Sun Jan 28 13:08:22 EST 2018)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_144-b01
Operating System: Mac OS X
OS Version: 10.13.3
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>